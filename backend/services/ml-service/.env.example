# ===========================================
# Anomalyze ML Service - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# Service Configuration
SERVICE_NAME=ml-service
SERVICE_PORT=8000
DEBUG=true
LOG_LEVEL=INFO

# ----- Kafka Configuration -----
# For local Docker development (Redpanda)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_GROUP_ID=ml-service-group
KAFKA_TRANSACTIONS_TOPIC=transactions
KAFKA_ANOMALIES_TOPIC=anomalies

# Security (disabled for local dev)
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
# For Confluent Cloud (uncomment when ready):
# KAFKA_SECURITY_PROTOCOL=SASL_SSL
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=your-api-key
# KAFKA_SASL_PASSWORD=your-api-secret

# ----- Redis Configuration -----
# For local Docker development
REDIS_URL=redis://localhost:6379/0
# For Upstash (uncomment when ready):
# REDIS_URL=rediss://default:your-password@your-endpoint.upstash.io:6379

# ----- PostgreSQL Configuration -----
# For profile persistence (optional, if not set only Redis is used)
# DATABASE_URL=postgresql://user:password@localhost:5432/anomalyze
# For Neon (uncomment when ready):
# DATABASE_URL=postgresql://user:password@your-endpoint.neon.tech/anomalyze?sslmode=require

# ----- Model Configuration -----
MODEL_PATH=./models/current_model.pkl
MODEL_VERSION=v1.0.0
ANOMALY_THRESHOLD=0.5

# Rolling window settings (in seconds)
VELOCITY_WINDOW_SECONDS=600

# ----- Storage Configuration -----
# Local storage for development
STORAGE_TYPE=local
LOCAL_STORAGE_PATH=./data

# For S3/R2 (uncomment when ready):
# STORAGE_TYPE=s3
# S3_ENDPOINT_URL=https://your-account.r2.cloudflarestorage.com
# S3_BUCKET_NAME=anomalyze-models
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
