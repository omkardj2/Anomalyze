# ===========================================
# Ingestion Service - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# Service Configuration
SERVICE_NAME=ingestion-service
PORT=3000
NODE_ENV=development
LOG_LEVEL=info

# ----- Kafka Configuration -----
# For local Docker development (Redpanda)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=ingestion-service
KAFKA_TRANSACTIONS_TOPIC=transactions

# Security (disabled for local dev)
# KAFKA_SECURITY_PROTOCOL=PLAINTEXT
# For Confluent Cloud (uncomment when ready):
# KAFKA_SECURITY_PROTOCOL=SASL_SSL
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=your-api-key
# KAFKA_SASL_PASSWORD=your-api-secret

# ----- Redis Configuration (Queue & Cache) -----
# For local Docker development
REDIS_URL=redis://localhost:6379/0
# For Upstash (uncomment when ready):
# REDIS_URL=rediss://default:your-password@your-endpoint.upstash.io:6379

# ----- PostgreSQL Configuration -----
# For raw transaction storage
DATABASE_URL=postgresql://user:password@localhost:5432/anomalyze
# For Neon (uncomment when ready):
# DATABASE_URL=postgresql://user:password@your-endpoint.neon.tech/anomalyze?sslmode=require

# ----- Upload Configuration -----
UPLOAD_DIR=./uploads
# Max file size in megabytes (default 50MB)
MAX_FILE_SIZE_MB=50
# Allowed mime types
ALLOWED_MIME_TYPES=text/csv,application/json

# ----- Batch Processing -----
# Max concurrent jobs
BATCH_CONCURRENCY=5
